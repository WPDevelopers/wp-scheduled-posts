(()=>{"use strict";const{Button:e}=wp.components,{Component:t,createElement:s}=wp.element,a=class extends t{constructor(e){super(e),this.handleChange=this.handleChange.bind(this),this.state={isChecked:!1,isClicked:!1}}handleChange(e){if("clicked"===e)return e='{"date" : "'+this.props.currentTime.date+'", "date_gmt" : "'+this.props.currentTime.date_gmt+'", "status" : "publish"}',this.setState({isClicked:!0}),this.setState({isChecked:!1}),this.props.editPost(e),this.props.setMetaValue({publishImmediately:!0}),void this.props.savePost()}render(){return this.props.isScheduled&&!this.props.isPublished?s(e,{isPrimary:!0,onClick:()=>{this.handleChange("clicked")}},this.props.publish):null}},{Button:l}=wp.components,{Component:i,createElement:o}=wp.element,n=class extends i{constructor(e){super(e),this.handleChange=this.handleChange.bind(this),this.state={isChecked:!1,isClicked:!1,prevent_future_post:!1}}handleChange(e){if("clicked"===e)return this.setState({isClicked:!0}),this.setState({isChecked:!1}),this.setState({prevent_future_post:!0}),e='{"status" : "publish"}',this.props.editPost(e),this.props.setMetaValue({publishImmediately:!0,prevent_future_post:!0,date_type:"future"}),void this.props.savePost()}render(){return this.props.isScheduled&&!this.props.isPublished?o(l,{isPrimary:!0,onClick:()=>{this.handleChange("clicked")}},this.props.publish):null}},p=async(e,t,s=!0)=>{let a;return a=s?Object.keys(t).map((e=>`${e}=${encodeURIComponent(t[e])}`)).join("&"):t,await wp.apiFetch({path:`${e}?${a}`}).then((e=>e)).catch((e=>e))},r=async e=>await wp.apiFetch({path:"wp-scheduled-posts/v1/fetch_pinterest_section",method:"POST",data:e}).then((e=>e)),{element:{createElement:d,Fragment:c},components:{SelectControl:u,TextControl:h,Modal:m,Button:f}}=(React,wp),{__:_}=wp.i18n,b=({isOpenModal:e,setProModal:t})=>d(c,null,e&&d(m,{className:"wpsp-pro-modal",onRequestClose:()=>t(!1)},d("h2",null,"Opps!"),d("h4",null,"You Need SchedulePress PRO"),d("img",{src:WPSchedulePostsFree.assetsURI+"/images/upgrade-pro.gif",alt:"pro-alert"}),d("a",{target:"_blank",href:"https://schedulepress.com/#pricing"},"Check Pricing Plans"))),{element:{createElement:C,Fragment:g}}=wp,{__:y}=wp.i18n,w=({platform:e,selectedSocialProfile:t,responseMessage:s,pinterest_board_type:a=""})=>{let l=t;return C(g,null,t.filter((t=>t.platform===e)).length>0&&C("div",{className:`profile-${e} social-profile`},C("div",{className:"social-logo"},C("img",{src:`${WPSchedulePostsFree.assetsURI}images/${e}.svg`,alt:""}),C("h2",null,e)),l.filter((t=>t.platform===e)).map((t=>C(g,null,C("div",{className:"single-profile"},C("div",{className:"single-profile-content"},C("div",{className:"modal-content-left"},C("div",{className:"profile-list"},C("img",{src:t?.thumbnail_url}),C("h3",null,t?.name),{facebook:C("span",{className:"badge facebook"},t.type?t.type:y("Profile","wp-scheduled-posts")),twitter:C("span",{className:"badge twitter"},t.type?t.type:y("Profile","wp-scheduled-posts")),linkedin:C("span",{className:"badge linkedin"},y("organization"==t?.type?"Page":"Profile","wp-scheduled-posts")),pinterest:C("span",{className:"badge pinterest"},y("Board","wp-scheduled-posts"))}[e])),C("div",{className:"modal-content-right"},s.find((e=>e.id===t.id))&&C("span",null,!0===s.find((e=>e.id===t.id))?.success?C(g,null,C("img",{src:`${WPSchedulePostsFree.assetsURI}/images/response_success.svg`,alt:"Shared"}),"Shared"):C(g,null,C("img",{src:`${WPSchedulePostsFree.assetsURI}/images/response_failed.svg`,alt:""}),"Failed")))),s.find((e=>e.id===t.id))&&C("div",{className:`message ${s.find((e=>e.id===t.id))?.success?"success":""} `},C("span",null,s.find((e=>e.id===t.id))?.message))))))))},{data:{useSelect:v,useDispatch:S,select:P},plugins:{registerPlugin:k},date:{dateI18n:F},element:{useState:N,useEffect:M,createElement:I,Fragment:x},components:{TextControl:H,Button:T,DateTimePicker:L,Popover:O,Modal:U,RadioControl:V},editPost:{PluginDocumentSettingPanel:D},media:{wp_get_attachment_image:R},editor:{MediaUpload:W,MediaUploadCheck:E}}=wp,{__:$}=wp.i18n,B=({is_pro_active:e})=>{const{meta:t,meta:{_wpscppro_dont_share_socialmedia:s,_wpscppro_custom_social_share_image:a}}=v((e=>({meta:e("core/editor").getEditedPostAttribute("meta")||{}}))),{editPost:l}=S("core/editor"),i=P("core/editor").getCurrentPostId(),[o,n]=N("default"),[d,c]=N(null),[u,h]=N([]),[m,f]=N([]),[_,C]=N([]),[g,y]=N([]),[k,F]=N(!1),[H,T]=N([]),[L,O]=N([]),[D,R]=N([]),[B,Z]=N(s),[A,K]=N("default"),[j,Y]=N("default"),[J,Q]=N("default"),[q,z]=N("default"),[G,X]=N(null),[ee,te]=N("profile"),[se,ae]=N(!1),[le,ie]=N(WPSchedulePostsFree?._wpscppro_custom_social_share_image),[oe,ne]=N(a);M((()=>{p("/wp-scheduled-posts/v1/get-option-data",null,!1).then((e=>{const t=JSON.parse(e);if(t?.facebook_profile_status){const e=t?.facebook_profile_list.filter((e=>!0===e.status));h(e)}if(t?.twitter_profile_status){const e=t?.twitter_profile_list.filter((e=>!0===e.status));f(e)}if(t?.linkedin_profile_status){const e=t?.linkedin_profile_list.filter((e=>!0===e.status));C(e)}let s=[];if(t?.pinterest_profile_status){let e=[],a=t?.pinterest_profile_list.filter((e=>!0===e.status));a.length>0&&a.map(((t,l)=>{let i={defaultBoard:t?.default_board_name?.value,profile:t};e.push({board_id:t?.default_board_name?.value,section_id:t?.defaultSection?.value}),r(i).then((e=>{a[l].sections=e.data})),s.push({id:t?.default_board_name?.value,platform:"pinterest",platformKey:l,pinterest_custom_board_name:t?.default_board_name?.value,pinterest_custom_section_name:t?.defaultSection?.value,name:t?.default_board_name?.label,thumbnail_url:t?.thumbnail_url})})),R(e),y([...a]),X(t)}if(t?.facebook_profile_status){let e=t?.facebook_profile_list.filter((e=>!0===e.status));e.map(((e,t)=>{s.push({id:e.id,platform:"facebook",platformKey:t,name:e.name,type:e?.type,thumbnail_url:e.thumbnail_url,share_type:A})}))}if(t?.twitter_profile_status){let e=t?.twitter_profile_list.filter((e=>!0===e.status));e.map(((e,t)=>{s.push({id:e.id,platform:"twitter",platformKey:t,name:e.name,type:e?.type,thumbnail_url:e.thumbnail_url,share_type:j})}))}if(t?.linkedin_profile_status){let e=t?.linkedin_profile_list.filter((e=>!0===e.status));e.map(((e,t)=>{s.push({id:e.id,platform:"linkedin",platformKey:t,name:e.name,type:e?.type,thumbnail_url:e.thumbnail_url,share_type:J})}))}T([...s])}))}),[]);const pe=e=>{c(d===e?null:e)},re=(e,t,s,a,l,i,o="")=>{if(e.target.checked)T((e=>a?[...e,{id:a,platform:t,platformKey:s,name:l,type:i,thumbnail_url:o}]:e));else if(H.length>0&&a){const e=H.filter((e=>e.id!==a));T(e)}},de=(e,t)=>{let s=H;if("facebook"===e&&(K(t),"default"===t&&G?.facebook_profile_status)){let e=G?.facebook_profile_list.filter((e=>!0===e.status));e.map(((e,t)=>{-1===H.findIndex((t=>t.id===e.id))&&s.push({id:e.id,platform:"facebook",platformKey:t,name:e.name,type:e?.type,thumbnail_url:e.thumbnail_url,share_type:A})}))}if("twitter"===e&&(Y(t),"default"==t&&G?.twitter_profile_status)){let e=G?.twitter_profile_list.filter((e=>!0===e.status));e.map(((e,t)=>{-1===H.findIndex((t=>t.id===e.id))&&s.push({id:e.id,platform:"twitter",platformKey:t,name:e.name,type:e?.type,thumbnail_url:e.thumbnail_url,share_type:j})}))}if("linkedin"===e&&(Q(t),"default"==t&&G?.linkedin_profile_status)){let e=G?.linkedin_profile_list.filter((e=>!0===e.status&&"person"===e.type));e.map(((e,t)=>{-1===H.findIndex((t=>t.id===e.id))&&s.push({id:e.id,platform:"linkedin",platformKey:t,name:e.name,type:e?.type,thumbnail_url:e.thumbnail_url,share_type:J})}))}if("linkedin_page"===e&&(z(t),"default"==t&&G?.linkedin_profile_status)){let e=G?.linkedin_profile_list.filter((e=>!0===e.status&&"person"!==e.type));e.map(((e,t)=>{-1===H.findIndex((t=>t.id===e.id))&&s.push({id:e.id,platform:"linkedin",platformKey:t,name:e.name,type:e?.type,thumbnail_url:e.thumbnail_url,share_type:J})}))}T([...s])};return M((()=>{l({meta:{...t,_wpscppro_dont_share_socialmedia:B,_wpscppro_custom_social_share_image:oe}})}),[B,le]),I("div",{className:"social-share",id:"wpspSocialShare"},I("h2",{className:"social-share-title"},$("Social Share Settings","wp-scheduled-posts")),I("div",{className:"share-checkbox"},I("input",{type:"checkbox",id:"socialShareDisable",checked:B,onChange:e=>{Z(e.target.checked)}}),I("label",{htmlFor:"socialShareDisable"},$("Disable Social Share","wp-scheduled-posts"))),I("div",{style:{display:B?"none":"block"}},I("div",{className:`wpsp_image_upload ${WPSchedulePostsFree?._wpscppro_custom_social_share_image?"has-image":"has-not-image"} `},I("div",{id:"wpscpprouploadimagepreview"},le&&I("img",{src:le,alt:"Uploaded"})),I(E,null,I(W,{allowedTypes:["image"],onSelect:e=>{console.log(e.url),ie(e?.url),ne(e?.id)},render:({open:e})=>I("button",{className:"button button-primary",onClick:e},$("Upload Social Share Banner","wp-scheduled-posts"))})),le&&I("input",{type:"button",onClick:()=>{ie(""),ne(null)},class:"button button-danger remove-banner-image-btn",value:"Remove Banner"}))),!B&&I(x,null,I("div",{className:"social-share-wrapper"},I("h3",null,$("Choose Social Share Platform","wp-scheduled-posts")),I("div",{className:"social-accordion-item"},I("div",{className:"social-accordion-button",onClick:()=>pe("isOpen")},I("img",{src:WPSchedulePostsFree.assetsURI+"/images/facebook.svg",alt:""}),I("span",null,"Facebook")),"isOpen"===d&&I("div",{className:"accordion-content"},u.length>0?I(x,null,I("div",{className:"facebook-share-type"},I(V,{selected:A,options:[{label:I("div",{className:"wpsp-tooltip"},"Default ",I("span",{class:"dashicons dashicons-info"}),I("span",{class:"wpsp-tooltiptext"}," ",$("Content will be shared on all the activated social accounts","wp-scheduled-posts")," ")," "),value:"default"},{label:I("div",{className:"wpsp-tooltip custom"},"Custom ",I("span",{class:"dashicons dashicons-info"}),I("span",{class:"wpsp-tooltiptext"},$("Specify your social account choice where you want to share the content","wp-scheduled-posts"))),value:"custom"}],onChange:e=>de("facebook",e)})),"custom"===A&&u.map(((e,t)=>I("div",{className:"facebook-profile social-profile"},I("input",{type:"checkbox",checked:-1!=H.findIndex((t=>t.id===e.id)),onChange:s=>re(s,"facebook",t,e?.id,e?.name,e?.type,e?.thumbnail_url)}),I("h3",null,e?.name," ( ",e.type?e.type:$("Profile","wp-scheduled-posts")," ) "))))):I("div",{dangerouslySetInnerHTML:{__html:`You may forget to add or enable profile/page from <a href='${WPSchedulePostsFree?.adminURL}admin.php?page=schedulepress&tab=social-profile'>SchedulePress settings</a>.`}}))),I("div",{className:"social-accordion-item"},I("div",{className:"social-accordion-button",onClick:()=>pe("isOpenTwitter")},I("img",{src:WPSchedulePostsFree.assetsURI+"/images/twitter.svg",alt:""}),I("span",null,"Twitter")),"isOpenTwitter"===d&&I("div",{className:"accordion-content"},m.length>0?I(x,null,I(V,{selected:j,options:[{label:I("div",{className:"wpsp-tooltip",dangerouslySetInnerHTML:{__html:'Default <span class="dashicons dashicons-info"></span><span class="wpsp-tooltiptext">Content will be shared on all the activated social accounts </span>'}}),value:"default"},{label:I("div",{className:"wpsp-tooltip custom",dangerouslySetInnerHTML:{__html:'Custom <span class="dashicons dashicons-info"></span><span class="wpsp-tooltiptext">Specify your social account choice where you want to share the content</span>'}}),value:"custom"}],onChange:e=>de("twitter",e)}),"custom"===j&&m.map(((e,t)=>I("div",{className:"twitter-profile social-profile"},I("input",{checked:-1!=H.findIndex((t=>t.id===e.id)),type:"checkbox",onChange:s=>re(s,"twitter",t,e?.id,e?.name,e?.type,e?.thumbnail_url)}),I("h3",null,e?.name," ( ",e.type?e.type:$("Profile","wp-scheduled-posts")," ) "))))):I("div",{dangerouslySetInnerHTML:{__html:`You may forget to add or enable profile/page from <a href='${WPSchedulePostsFree?.adminURL}admin.php?page=schedulepress&tab=social-profile'>SchedulePress settings</a>.`}}))),I("div",{className:"social-accordion-item"},I("div",{className:"social-accordion-button",onClick:()=>pe("isOpenLinkedin")},I("img",{src:WPSchedulePostsFree.assetsURI+"/images/linkedin.svg",alt:""}),I("span",null,"Linkedin")),"isOpenLinkedin"===d&&I(x,null,I("div",{className:"accordion-content"},I("div",{className:"wpsp-custom-tabs"},I("div",{className:"wpsp-tab-header"},I("div",{className:"tab-profile "+("profile"===ee?"active":""),onClick:()=>te("profile")},$("Profile","wp-scheduled-posts")),I("div",{className:`tab-page ${"page"===ee?"active":""} ${e?"":"pro-deactivated"}`,onClick:()=>("page",void(e?te("page"):ae(!0)))},$("Page","wp-scheduled-posts"))),I("div",{className:"wpsp-tab-content"},"profile"==ee&&I("div",{className:"content-profile"},_.filter((e=>"person"===e.type)).length>0?I(x,null,I(V,{selected:J,options:[{label:I("div",{className:"wpsp-tooltip",dangerouslySetInnerHTML:{__html:'Default <span class="dashicons dashicons-info"></span><span class="wpsp-tooltiptext">Content will be shared on all the activated social accounts </span>'}}),value:"default"},{label:I("div",{className:"wpsp-tooltip custom",dangerouslySetInnerHTML:{__html:'Custom <span class="dashicons dashicons-info"></span><span class="wpsp-tooltiptext">Specify your social account choice where you want to share the content</span>'}}),value:"custom"}],onChange:e=>de("linkedin",e)}),"custom"===J&&_.filter((e=>"person"===e.type)).map(((e,t)=>I("div",{className:"linkedin-profile social-profile"},I("input",{checked:-1!=H.findIndex((t=>t.id===e.id)),type:"checkbox",onChange:s=>re(s,"linkedin",t,e?.id,e?.name,e?.type,e?.thumbnail_url)}),I("h3",null,e?.name," ( ",$("organization"==e?.type?"Page":"Profile","wp-scheduled-posts")," ) "))))):I("div",{dangerouslySetInnerHTML:{__html:`You may forget to add or enable profile/page from <a href='${WPSchedulePostsFree?.adminURL}admin.php?page=schedulepress&tab=social-profile'>SchedulePress settings</a>.`}})),"page"==ee&&I("div",{className:"content-page"},_.filter((e=>"person"!==e.type)).length>0?I(x,null,I(V,{selected:q,options:[{label:I("div",{className:"wpsp-tooltip",dangerouslySetInnerHTML:{__html:'Default <span class="dashicons dashicons-info"></span><span class="wpsp-tooltiptext">Content will be shared on all the activated social accounts </span>'}}),value:"default"},{label:I("div",{className:"wpsp-tooltip custom",dangerouslySetInnerHTML:{__html:'Custom <span class="dashicons dashicons-info"></span><span class="wpsp-tooltiptext">Specify your social account choice where you want to share the content</span>'}}),value:"custom"}],onChange:e=>de("linkedin_page",e)}),"custom"===q&&_.filter((e=>"person"!==e.type)).map(((e,t)=>I("div",{className:"linkedin-profile social-profile"},I("input",{checked:-1!=H.findIndex((t=>t.id===e.id)),type:"checkbox",onChange:s=>re(s,"linkedin",t,e?.id,e?.name,e?.type,e?.thumbnail_url)}),I("h3",null,e?.name," ( ",$("organization"==e?.type?"Page":"Profile","wp-scheduled-posts")," ) "))))):I("div",{dangerouslySetInnerHTML:{__html:`You may forget to add or enable profile/page from <a href='${WPSchedulePostsFree?.adminURL}admin.php?page=schedulepress&tab=social-profile'>SchedulePress settings</a>.`}}))))))),I("div",{className:"social-accordion-item"},I("div",{className:"social-accordion-button",onClick:()=>pe("isOpenPinterest")},I("img",{src:WPSchedulePostsFree.assetsURI+"/images/pinterest.svg",alt:""}),I("span",null,"Pinterest")),"isOpenPinterest"===d&&I("div",{className:"accordion-content"},g.length>0?I(x,null,I(V,{selected:o,options:[{label:I("div",{className:"wpsp-tooltip",dangerouslySetInnerHTML:{__html:'Default <span class="dashicons dashicons-info"></span><span class="wpsp-tooltiptext">Content will be shared on all the activated social accounts </span>'}}),value:"default"},{label:I("div",{className:"wpsp-tooltip custom",dangerouslySetInnerHTML:{__html:'Custom <span class="dashicons dashicons-info"></span><span class="wpsp-tooltiptext">Specify your social account choice where you want to share the content</span>'}}),value:"custom"}],onChange:e=>(e=>{let t=H;if(n(e),"default"==e){if(G?.pinterest_profile_status){let e=D,s=G?.pinterest_profile_list.filter((e=>!0===e.status));s.length>0&&s.map(((a,l)=>{if(-1===H.findIndex((e=>e.id===a?.default_board_name?.value))){let i={defaultBoard:a?.default_board_name?.value,profile:a};e.push({board_id:a?.default_board_name?.value,section_id:a?.defaultSection?.value}),r(i).then((e=>{s[l].sections=e.data})),t.push({id:a?.default_board_name?.value,platform:"pinterest",platformKey:l,pinterest_custom_board_name:a?.default_board_name?.value,pinterest_custom_section_name:a?.defaultSection?.value,name:a?.default_board_name?.label,thumbnail_url:a?.thumbnail_url})}})),R(e),y([...s])}T([...t])}})(e)}),"custom"===o&&g.map(((e,t)=>I("div",{className:"pinterest-profile social-profile"},I("input",{checked:-1!=H.findIndex((t=>t.id===e?.default_board_name?.value)),type:"checkbox",onClick:s=>((e,t,s,a="")=>{if(e.target.checked)T((e=>{const l=t?.default_board_name?.value,i=t?.default_board_name?.label,o=D.find((e=>e.board_id===l));return t?.default_board_name?.value?[...e,{id:l,platform:"pinterest",platformKey:s,pinterest_board_type:"custom",pinterest_custom_board_name:l,pinterest_custom_section_name:o?.section_id,name:i,thumbnail_url:a}]:e}));else if(H.length>0){const e=H.filter((e=>e.id!==t?.default_board_name?.value));T(e)}})(s,e,t,e?.thumbnail_url)}),I("h3",null,e?.default_board_name?.label," "),I("select",{className:"pinterest-sections",onChange:t=>((e,t)=>{const s=D.map((s=>{if(s.board_id===e){const a={board_id:e,section_id:t};return{...s,...a}}return s}));R(s)})(e?.default_board_name?.value,t.target.value)},I("option",{value:"No Section"},"No Section"),e?.sections?.map((t=>I("option",{value:t?.id,selected:-1!==D.findIndex((s=>s.board_id===e?.default_board_name?.value&&s.section_id===t?.id))},t?.name)))))))):I("div",{dangerouslySetInnerHTML:{__html:`You may forget to add or enable profile/page from <a href='${WPSchedulePostsFree?.adminURL}admin.php?page=schedulepress&tab=social-profile'>SchedulePress settings</a>.`}}))),k&&I(U,{className:"social-share-modal",onRequestClose:()=>{O([]),F(!1)}},I(w,{platform:"facebook",selectedSocialProfile:H,responseMessage:L,pinterest_board_type:o}),I(w,{platform:"twitter",selectedSocialProfile:H,responseMessage:L,pinterest_board_type:o}),I(w,{platform:"linkedin",selectedSocialProfile:H,responseMessage:L,pinterest_board_type:o}),I(w,{platform:"pinterest",selectedSocialProfile:H,responseMessage:L,pinterest_board_type:o}))),I("button",{onClick:()=>{F(!0),H.length>0&&H.map((e=>{e?.pinterest_board_type&&o!==e?.pinterest_board_type||(e.postid=i,p("/wp-scheduled-posts/v1/instant-social-share",e).then((t=>{e.id&&(L.push({id:e.id,message:JSON.stringify(t.data),success:t.success}),O([...L]))})))}))},className:"components-button is-primary share-btn",disabled:!(H.length>0)},$("Share Now","wp-scheduled-posts"))),I(b,{isOpenModal:se,setProModal:ae}))},{element:{createElement:Z,Fragment:A,useState:K},components:{SelectControl:j,TextControl:Y}}=wp,{__:J}=wp.i18n,Q=()=>{const[e,t]=K(!1),s=e=>{e.preventDefault(),t(!0)};return Z("div",{className:"dummy-pro-features"},Z("div",{className:"auto-scheduler"},Z("h3",null,J("Auto Schedule","wp-scheduled-posts")),Z("div",{className:"auto-schedule"},Z("input",{id:"dummyProAutoScheduler",onClick:s,type:"checkbox"}),Z("label",{htmlFor:"dummyProAutoScheduler"},"Wednesday, June 14, 2023 at 9:15 AM"))),Z("div",{className:"manual-scheduler"},Z("h3",null,J("Manual Schedule","wp-scheduled-posts")),Z("div",{onClick:s},Z(j,{options:[{label:"Wednesday, June 14, 2023 at 2:50 PM",value:""}]}))),Z("div",{className:"unpublish-republish"},Z("h2",null,J("Scheduling Options","wp-scheduled-posts")),Z("div",{className:"unpublish"},Z("label",{htmlFor:"unpublish_on"},J("Unpublish On","wp-scheduled-posts")),Z("div",{onClick:s},Z(Y,{id:"unpublish_on",placeholder:"Y/M/D H:M:S"}))),Z("div",{className:"republish"},Z("label",{htmlFor:"republish_on"},J("Republish On","wp-scheduled-posts")),Z("div",{onClick:s},Z(Y,{id:"republish_on",placeholder:"Y/M/D H:M:S"})))),Z(b,{isOpenModal:e,setProModal:t}))},{createElement:q}=wp.element,{createSlotFill:z}=wp.components,{Fill:G,Slot:X}=z("WpspProSlot"),ee=({children:e})=>q(G,null,e);ee.Slot=X;const te=ee,{compose:se,ifCondition:ae,withInstanceId:le}=wp.compose,{withSelect:ie,withDispatch:oe}=wp.data,{PluginDocumentSettingPanel:ne,PluginSidebar:pe}=wp.editPost,{Component:re,createElement:de,useState:ce,Fragment:ue}=wp.element,{CheckboxControl:he}=wp.components,{publishImmediately:me,publishFutureDate:fe,currentTime:_e,publish_button_off:be,allowedPostTypes:Ce}=WPSchedulePostsFree,ge=se([ie((e=>{const{getCurrentPostType:t,getEditedPostAttribute:s,isCurrentPostScheduled:a,isCurrentPostPublished:l,getCurrentPost:i}=e("core/editor");return{postType:t(),meta:s("meta"),isScheduled:a(),isPublished:l(),post:i()}})),oe(((e,{meta:t})=>{const{editPost:s,savePost:a}=e("core/editor");return{editPost(e){var t=JSON.parse(e);"string"==typeof t&&(t=JSON.parse(t)),s({date:t.date,date_gmt:t.date_gmt,status:t.status})},setMetaValue:function(e){s({meta:e})},savePost:a}})),ae((({postType:e})=>(Ce.includes(e),!0)))])(class extends re{constructor(e){super(e),this.handleChange=this.handleChange.bind(this),this.state={showHelp:!1,publishImmediately:!1}}componentWillReceiveProps=e=>{"publish"==this.props.post.status&&"future"==e.post.status&&(this.setState({publishImmediately:!1}),console.log(this.props.post.status,e.post.status))};handleChange(e){}componentDidMount(){jQuery(document).ready((function(){jQuery(document).on("click",'.edit-post-header__settings button[aria-label="wpsp_options"]',(function(e){e.stopPropagation(),jQuery('.edit-post-header__settings button:not(".is-pressed")[aria-label="Settings"]').trigger("click"),setTimeout((()=>{jQuery('.schedulepress-options:not(".is-opened") .components-button.components-panel__body-toggle').trigger("click"),setTimeout((()=>{const e=document.querySelector(".interface-navigable-region.interface-interface-skeleton__sidebar"),t=jQuery(".interface-complementary-area.edit-post-sidebar .edit-post-post-status"),s=jQuery(".interface-complementary-area.edit-post-sidebar .schedulepress-options");e.scrollTo({top:Math.abs(t.offset().top-s.offset().top),behavior:"smooth"})}),0)}),0)}))}))}render(){return de(ue,null,de(pe,{title:"wpsp_options",icon:de("svg",{width:"25",height:"25",viewBox:"0 0 22 18",fill:"none",xmlns:"http://www.w3.org/2000/svg"},de("path",{d:"M9 18C4.04128 18 0 13.9587 0 9C0 4.04128 4.04128 0 9 0C10.5695 0 12.1011 0.401853 13.4431 1.18281C13.8602 1.42544 14.0042 1.94861 13.7616 2.35046C13.519 2.76748 12.9958 2.91154 12.5939 2.66891C11.5097 2.04718 10.2586 1.71356 9 1.71356C4.99663 1.72115 1.72873 4.98147 1.72873 8.98484C1.72873 12.9882 4.98905 16.2561 9 16.2561C11.0396 16.2561 12.92 15.4372 14.3075 13.9587C14.6335 13.6099 15.1794 13.5948 15.5206 13.9132C15.8694 14.2393 15.8846 14.7852 15.5661 15.1264C13.8677 16.9537 11.4794 17.9924 8.99242 17.9924L9 18Z",fill:"url(#paint0_radial_1898_55)"}),de("path",{d:"M7.89382 7.24825L6.06653 5.58776C5.71775 5.26931 5.17184 5.29206 4.85339 5.64084C4.53494 5.98962 4.55768 6.53553 4.90646 6.85398L6.8854 8.65095C7.03704 8.0747 7.40099 7.5667 7.89382 7.24825Z",fill:"#24E2AC"}),de("path",{d:"M18.8641 1.89593C18.5684 1.5244 18.0225 1.45616 17.651 1.75187L10.5996 7.32474C11.0697 7.67352 11.4109 8.1891 11.517 8.78809L18.7201 3.0939C19.1068 2.7982 19.1598 2.25987 18.8641 1.88834V1.89593Z",fill:"#24E2AC"}),de("path",{d:"M9.93336 7.86338C9.71348 7.74207 9.46327 7.67383 9.19789 7.67383C8.95526 7.67383 8.73538 7.7269 8.53825 7.81789C7.99992 8.0681 7.64355 8.60643 7.64355 9.22817V9.32674C7.69663 10.138 8.36386 10.7825 9.19789 10.7825C10.0319 10.7825 10.6537 10.1835 10.7446 9.40256C10.7598 9.34948 10.7598 9.28124 10.7598 9.213C10.7598 8.63676 10.4338 8.12117 9.94094 7.8558L9.93336 7.86338Z",fill:"#3DEAB5"}),de("path",{d:"M20.9114 7.00586H18.7429C18.5989 7.00586 18.4775 7.12717 18.4775 7.27123V9.1971C18.4775 9.34116 18.5989 9.46247 18.7429 9.46247H20.9114C21.0555 9.46247 21.1768 9.34116 21.1768 9.1971V7.27123C21.1768 7.12717 21.0555 7.00586 20.9114 7.00586Z",fill:"#6C62FF"}),de("path",{d:"M17.3709 7.00586H15.2024C15.0583 7.00586 14.937 7.12717 14.937 7.27123V9.1971C14.937 9.34116 15.0583 9.46247 15.2024 9.46247H17.3709C17.5149 9.46247 17.6363 9.34116 17.6363 9.1971V7.27123C17.6438 7.12717 17.5301 7.00586 17.3709 7.00586Z",fill:"#CCCCFF"}),de("path",{d:"M17.3709 10.1826H15.2024C15.0583 10.1826 14.937 10.3039 14.937 10.448V12.3739C14.937 12.5179 15.0583 12.6392 15.2024 12.6392H17.3709C17.5149 12.6392 17.6363 12.5179 17.6363 12.3739V10.448C17.6438 10.2963 17.5301 10.1826 17.3709 10.1826Z",fill:"#CCCCFF"}),de("path",{d:"M20.9114 10.1826H18.7429C18.5989 10.1826 18.4775 10.3039 18.4775 10.448V12.3739C18.4775 12.5179 18.5989 12.6392 18.7429 12.6392H20.9114C21.0555 12.6392 21.1768 12.5179 21.1768 12.3739V10.448C21.1768 10.2963 21.0555 10.1826 20.9114 10.1826Z",fill:"#CCCCFF"}),de("defs",null,de("radialGradient",{id:"paint0_radial_1898_55",cx:"0",cy:"0",r:"1",gradientUnits:"userSpaceOnUse",gradientTransform:"translate(15.9301 15.6268) scale(7.50632)"},de("stop",{stopColor:"#F3F3FF"}),de("stop",{offset:"0.09",stopColor:"#E3E2FF"}),de("stop",{offset:"0.4",stopColor:"#B0ACFF"}),de("stop",{offset:"0.66",stopColor:"#8B84FF"}),de("stop",{offset:"0.87",stopColor:"#746CFF"}),de("stop",{offset:"1",stopColor:"#6C63FF"}))))}),de(ne,{name:"schedulepress-options",title:"SchedulePress",className:"schedulepress-options",icon:de("svg",{width:"25",height:"25",viewBox:"0 0 22 18",fill:"none",xmlns:"http://www.w3.org/2000/svg"},de("path",{d:"M9 18C4.04128 18 0 13.9587 0 9C0 4.04128 4.04128 0 9 0C10.5695 0 12.1011 0.401853 13.4431 1.18281C13.8602 1.42544 14.0042 1.94861 13.7616 2.35046C13.519 2.76748 12.9958 2.91154 12.5939 2.66891C11.5097 2.04718 10.2586 1.71356 9 1.71356C4.99663 1.72115 1.72873 4.98147 1.72873 8.98484C1.72873 12.9882 4.98905 16.2561 9 16.2561C11.0396 16.2561 12.92 15.4372 14.3075 13.9587C14.6335 13.6099 15.1794 13.5948 15.5206 13.9132C15.8694 14.2393 15.8846 14.7852 15.5661 15.1264C13.8677 16.9537 11.4794 17.9924 8.99242 17.9924L9 18Z",fill:"url(#paint0_radial_1898_55)"}),de("path",{d:"M7.89382 7.24825L6.06653 5.58776C5.71775 5.26931 5.17184 5.29206 4.85339 5.64084C4.53494 5.98962 4.55768 6.53553 4.90646 6.85398L6.8854 8.65095C7.03704 8.0747 7.40099 7.5667 7.89382 7.24825Z",fill:"#24E2AC"}),de("path",{d:"M18.8641 1.89593C18.5684 1.5244 18.0225 1.45616 17.651 1.75187L10.5996 7.32474C11.0697 7.67352 11.4109 8.1891 11.517 8.78809L18.7201 3.0939C19.1068 2.7982 19.1598 2.25987 18.8641 1.88834V1.89593Z",fill:"#24E2AC"}),de("path",{d:"M9.93336 7.86338C9.71348 7.74207 9.46327 7.67383 9.19789 7.67383C8.95526 7.67383 8.73538 7.7269 8.53825 7.81789C7.99992 8.0681 7.64355 8.60643 7.64355 9.22817V9.32674C7.69663 10.138 8.36386 10.7825 9.19789 10.7825C10.0319 10.7825 10.6537 10.1835 10.7446 9.40256C10.7598 9.34948 10.7598 9.28124 10.7598 9.213C10.7598 8.63676 10.4338 8.12117 9.94094 7.8558L9.93336 7.86338Z",fill:"#3DEAB5"}),de("path",{d:"M20.9114 7.00586H18.7429C18.5989 7.00586 18.4775 7.12717 18.4775 7.27123V9.1971C18.4775 9.34116 18.5989 9.46247 18.7429 9.46247H20.9114C21.0555 9.46247 21.1768 9.34116 21.1768 9.1971V7.27123C21.1768 7.12717 21.0555 7.00586 20.9114 7.00586Z",fill:"#6C62FF"}),de("path",{d:"M17.3709 7.00586H15.2024C15.0583 7.00586 14.937 7.12717 14.937 7.27123V9.1971C14.937 9.34116 15.0583 9.46247 15.2024 9.46247H17.3709C17.5149 9.46247 17.6363 9.34116 17.6363 9.1971V7.27123C17.6438 7.12717 17.5301 7.00586 17.3709 7.00586Z",fill:"#CCCCFF"}),de("path",{d:"M17.3709 10.1826H15.2024C15.0583 10.1826 14.937 10.3039 14.937 10.448V12.3739C14.937 12.5179 15.0583 12.6392 15.2024 12.6392H17.3709C17.5149 12.6392 17.6363 12.5179 17.6363 12.3739V10.448C17.6438 10.2963 17.5301 10.1826 17.3709 10.1826Z",fill:"#CCCCFF"}),de("path",{d:"M20.9114 10.1826H18.7429C18.5989 10.1826 18.4775 10.3039 18.4775 10.448V12.3739C18.4775 12.5179 18.5989 12.6392 18.7429 12.6392H20.9114C21.0555 12.6392 21.1768 12.5179 21.1768 12.3739V10.448C21.1768 10.2963 21.0555 10.1826 20.9114 10.1826Z",fill:"#CCCCFF"}),de("defs",null,de("radialGradient",{id:"paint0_radial_1898_55",cx:"0",cy:"0",r:"1",gradientUnits:"userSpaceOnUse",gradientTransform:"translate(15.9301 15.6268) scale(7.50632)"},de("stop",{stopColor:"#F3F3FF"}),de("stop",{offset:"0.09",stopColor:"#E3E2FF"}),de("stop",{offset:"0.4",stopColor:"#B0ACFF"}),de("stop",{offset:"0.66",stopColor:"#8B84FF"}),de("stop",{offset:"0.87",stopColor:"#746CFF"}),de("stop",{offset:"1",stopColor:"#6C63FF"}))))},""===be||!this.props.isScheduled||this.props.isPublished?"":de("div",{className:"sc-publish-future"},de("div",null,de(he,{label:"Publish future post immediately",checked:this.state.publishImmediately,onChange:e=>{this.setState({publishImmediately:e}),!1===e&&this.setState({showHelp:!1})}}),de("a",{id:"wpscp-future-post-help-handler",className:"dashicons dashicons-info",href:"#",title:"Show/Hide Help",onClick:e=>{e.preventDefault(),this.setState({showHelp:!this.state.showHelp})}})),this.state.publishImmediately&&de("div",{className:"sc-publish-future-buttons"},de(a,{...this.props,currentTime:_e,publish:me}),de(n,{...this.props,currentTime:_e,publish:fe})),this.state.showHelp&&de("div",{style:{marginTop:5,color:"#757575"}},"If you choose to publish this future post with the Future Date, it will be published immediately but the postâ€™s date time will not set the current date rather it will be your scheduled future date time.")),de(te.Slot,null),!WPSchedulePostsFree?.is_pro&&de(Q,null),de(B,{is_pro_active:!!WPSchedulePostsFree?.is_pro})))}}),{registerPlugin:ye}=wp.plugins;ye("wps-publish-button",{render:ge})})();